<div class="max-w-2xl mx-auto px-4 py-10">

  <h1 class="text-2xl font-bold text-center mb-6">
    🔮 占い結果
  </h1>

  <div class="bg-white rounded-xl shadow-md p-6 mb-6">

    <% unless @tarot_result.can_draw_more? %>
      <p class="text-sm font-semibold text-purple-600 mb-3">
        🔮 総合メッセージ
      </p>
    <% end %>

    <p class="whitespace-pre-line text-gray-700">
      <%= @tarot_result.result_text %>
    </p>
  </div>


  <% @result_cards.each do |result_card| %>
    <div class="mb-4 bg-white rounded-xl shadow p-4">
      <p class="font-semibold mb-1">
        🃏 <%= result_card.position %>枚目：
        <%= result_card.tarot_card.name %>
      </p>
      <p class="text-gray-700">
        <%= result_card.tarot_card.meaning %>
      </p>
    </div>
  <% end %>

  <% if @tarot_result.can_draw_more? %>
    <%= button_to "もう1枚引く",
          draw_tarot_result_path(@tarot_result),
          method: :post,
          class: "w-full py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 mt-6" %>
  <% else %>
    <p class="text-center text-gray-500 mt-6">
      これ以上カードは引けません 🔮
    </p>
  <% end %>

</div>
