<% if @tab == "likes" %>
  <section class="mb-12">
    <h2 class="text-xl font-semibold mb-4">❤️ お気に入り一覧</h2>

    <% if @liked_results.present? %>
      <% @liked_results.each do |result| %>
        <div class="p-4 bg-white rounded-xl shadow hover:shadow-md transition mb-4">
          <div class="flex items-start justify-between gap-3">
            <p class="text-sm text-gray-500">
              <%= l(result.created_at, format: :short) %>
            </p>

            <%= fortune_badge(result) %>
          </div>

          <p class="mt-2 font-semibold text-gray-800">
            <% if result.result_text.present? %>
              <%= result.result_text.truncate(60) %>
            <% else %>
              <span class="text-gray-500">
                🃏 カード <%= result.draw_status_label %>
              </span>
            <% end %>
          </p>

          <div class="mt-3">
            <%= link_to "詳細を見る", tarot_result_path(result),
                  class: "inline-flex items-center rounded-full bg-purple-50 px-4 py-2 text-sm font-semibold text-purple-700 ring-1 ring-purple-200 hover:bg-purple-100 transition" %>
          </div>
        </div>
      <% end %>
    <% else %>
      <p class="text-gray-500">まだお気に入りがありません。</p>
    <% end %>
    <div class="mt-8 flex justify-center">
      <%= paginate @liked_results, params: { tab: "likes" } %>
    </div>
  </section>
<% end %>
