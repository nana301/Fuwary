class TarotService
  def initialize(tarot_result)
    @tarot_result = tarot_result
    @cards = tarot_result.tarot_cards
    @fortune_type = tarot_result.fortune_type
    @emotion = tarot_result.emotion
    @genre = tarot_result.genre
  end

  def call
    case @fortune_type
    when "emotion"
      emotion_message
    when "genre"
      genre_message
    else
      today_message
    end
  end

  def summary_message
    <<~TEXT
      ãŸã¬ã¾ã‚‹å…ˆç”Ÿã¯ã€ã“ã“ã¾ã§ã®æµã‚Œã‚’é™ã‹ã«è¦‹ã¤ã‚ã¦ã„ã¾ã™ã€‚

      ä»Šå›žç¾ã‚ŒãŸ3æžšã®ã‚«ãƒ¼ãƒ‰ã¯ã€
      ã€Œ#{@cards.map(&:name).join("ãƒ»")}ã€ã€‚

      ãã‚Œãžã‚Œã®æ„å‘³ãŒé‡ãªã‚Šåˆã£ã¦ã€
      ä»Šã®ã‚ãªãŸã«ä¼ãˆã¦ã„ã‚‹ã®ã¯â€•â€•

      ç„¦ã‚‰ãªãã¦å¤§ä¸ˆå¤«ã€‚
      ã²ã¨ã¤ã²ã¨ã¤é¸ã‚“ã§ããŸé“ã¯ã€
      ã¡ã‚ƒã‚“ã¨ã‚ãªãŸã®åŠ›ã«ãªã£ã¦ã„ã¾ã™ã€‚

      æ·±å‘¼å¸ã—ã¦ã€
      ä»Šã®è‡ªåˆ†ã‚’ãã®ã¾ã¾èªã‚ã¦ã‚ã’ã¾ã—ã‚‡ã†ðŸ«–
    TEXT
  end

  private

  def emotion_message
    <<~TEXT
      ãŸã¬ã¾ã‚‹å…ˆç”Ÿã¯ã€ä»Šã®æ°—æŒã¡ã‚’æ„Ÿã˜å–ã‚Šã¾ã—ãŸ

      ã€Œ#{@emotion}ã€ã¨ã„ã†æ„Ÿæƒ…ã®å¥¥ã«ã¯ã€
      å®Ÿã¯å¤§åˆ‡ãªã‚µã‚¤ãƒ³ãŒéš ã‚Œã¦ã„ã¾ã™ã€‚

      3æžšã®ã‚«ãƒ¼ãƒ‰ã¯ã€ãã‚Œãžã‚Œé•ã†è§’åº¦ã‹ã‚‰
      ä»Šã®ã‚ãªãŸã‚’ãã£ã¨ç…§ã‚‰ã—ã¦ã„ã¾ã™ã€‚

      ç„¡ç†ã—ãªãã¦ã„ã„ã‚“ã§ã™ã‚ˆã€‚
      ä»Šæ—¥ã¯æ·±å‘¼å¸ã‹ã‚‰å§‹ã‚ã¾ã—ã‚‡ã†ðŸ«–
    TEXT
  end

  def genre_message
    <<~TEXT
      ãŸã¬ã¾ã‚‹å…ˆç”Ÿã¯ã€é¸ã°ã‚ŒãŸãƒ†ãƒ¼ãƒžã«è€³ã‚’å‚¾ã‘ã¾ã—ãŸã€‚

      ã“ã®3æžšã®ã‚«ãƒ¼ãƒ‰ã¯ã€
      ã€Œä»Šãƒ»æµã‚Œãƒ»æœªæ¥ã€ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚

      ç„¦ã‚‰ãªãã¦å¤§ä¸ˆå¤«ã€‚
      ä¸€æ­©ãšã¤ã§ã„ã„ã‚“ã§ã™ã‚ˆðŸ¦
    TEXT
  end

  def today_message
    <<~TEXT
      ä»Šæ—¥ã¨ã„ã†ä¸€æ—¥ã«ã€
      ãã£ã¨å¯„ã‚Šæ·»ã†ã‚«ãƒ¼ãƒ‰ãŸã¡ã§ã™ã€‚

      å°ã•ãªæ°—ã¥ãã‚’å¤§åˆ‡ã«ã™ã‚‹ã¨ã€
      æ€ã‚ã¬å¹¸é‹ãŒèˆžã„è¾¼ã‚€ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ðŸƒ
    TEXT
  end
end
